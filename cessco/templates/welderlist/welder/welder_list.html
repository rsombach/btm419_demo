{% extends "base.html" %}
{% load i18n %}

{% block js_scripts %}

<script type="text/javascript">
$(document).ready(function() 
    { 
        $("#welderTable").tablesorter(); 
    } 
);
</script>

{% endblock %}

{% block title %}{{ title }} | Home {% endblock %}

{% block branding %}
<h1 id="site-name">Cessco Quality Control</h1>
{% endblock %}

{% block nav-global %}{% endblock %}

{% block navbar-right %}
<h4>Welder</h4>
<li><a href="/welderlist/welder/">List</a>
<li><a href="/welderlist/welder/add/">Create</a>
{% endblock %}


{% block content %}

	{% if user.is_authenticated %}
    
	    <h2>Cessco Qualified Pressure Welders Log</h2>
	    <table id="welderTable" width="90%" border=0 class="table table-striped table-bordered table-condensed tablesorter">
            <thead>
            <tr>
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>ABSA Number</th>
            </tr>
            </thead>
            <tbody>
	        {% for welder in object_list %}
	        	
	        	<tr>
		        	<td><a href="/welderlist/welder/{{ welder.id }}/">{{ welder.id }}<a></td>
		        	<td>{{ welder.first_name }}</td>
		            <td>{{ welder.last_name }}</td>
		            <td>{{ welder.absa_number }}</td>
	            </tr>


	        {% empty %}
	        	<tr><td colspan="4">Sorry, there are no welders in the database.</td></tr>
	        {% endfor %}
	        </tbody>
	    </table>

	    <table width="90%" border="0" class="table table-condensed">
	    <tr>

	    {% if is_paginated %}
	        <div class="pagination">
	            <span class="page-links">
	                {% if page_obj.has_previous %}

	                    <td width="33%"><div align="left"><a href="/welderlist/welder/?page={{ page_obj.previous_page_number }}">previous</a></div></td>
	                {% else %}
	                	<td width="33%"></td>
	                {% endif %}
	                <span class="page-current">
	                    <td width="34%"><div align="center">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</div></td>
	                </span>
	                {% if page_obj.has_next %}
	                    <td width="33%"><div align="right"><a href="/welderlist/welder/?page={{ page_obj.next_page_number }}">next</a></div></td>
	                {% else %}
	                	<td width="33%"></td>
	                {% endif %}
	            </span>
	        </div>
    	{% endif %}

    	</tr>
    	</table>

	{% else %}

		Access denied, please <a href="/login/">login</a>.

	{% endif %}

{% endblock %}







